
/***********************    正向代理      **************************/

开启下面模块

LoadModule proxy_module modules/mod_proxy.so
LoadModule proxy_connect_module modules/mod_proxy_connect.so
LoadModule proxy_ftp_module modules/mod_proxy_ftp.so
LoadModule proxy_http_module modules/mod_proxy_http.so

a2enmod proxy proxy_connect proxy_ftp proxy_http


修改文件  apache2.conf

添加  Listen 本机IP:代理端口

# Include the virtual host configurations:
IncludeOptional sites-enabled/*.conf


在  sites-enabled/000-default.conf 文件中添加一下内容

<VirtualHost *:代理端口>
    ServerAdmin webmaster@localhost
    DocumentRoot /var/www/html
    ServerName  本机IP
    ServerAlias 本机IP
    ErrorLog ${APACHE_LOG_DIR}/error.log
    CustomLog ${APACHE_LOG_DIR}/access.log combined

    #正向代理设置
    ProxyRequests On
    ProxyVia On

#用来控制谁可以访问你的代理
    <Proxy *>
        Order deny,allow
        Deny from all
        Allow from all
    </Proxy>
</VirtualHost>




